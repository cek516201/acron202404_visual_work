<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Step01_localStorage3.html</title>
</head>

<body>
    <div class="container">
        <h1>영어 사전 만들기</h1>
        <input type="text" id="word" placeholder="단어 입력...">
        <input type="text" id="mean" placeholder="뜻 입력...">
        <button id="saveBtn">저장</button>
        <button id="findBtn">뜻 찾기</button>
        <button id="clearBtn">Clear</button>
    </div>
    <script src="js/myUtil.js"></script>
    <script>
        // localStorage에 "dic"이라는 이름으로 저장된 값이 있는지 읽어와본다
        if (localStorage.dic == undefined) {
            localStorage.dic = "{}"; // 초기화
        }

        $("#saveBtn").addEventListener("click", () => {
            //입력한 단어와 뜻을 읽어온다. 
            const word = $("#word").value;
            const mean = $("#mean").value;

            const obj = JSON.parse(localStorage.dic)
            obj[word] = mean;
            localStorage.dic = JSON.stringify(obj);
            alert("저장");

            $("#word").value = "";
            $("#mean").value = "";
        });

        $("#findBtn").addEventListener("click", () => {
            //입력한 단어를 읽어와서
            const word = $("#word").value;
            // localStorage 에서 뜻을 찾는다.
            const mean = JSON.parse(localStorage.dic)[word];
            // 만일 저장된 값이 있으면 
            if (mean != undefined) {
                // input 요소의 value 값으로 출력하고
                $("#mean").value = mean;
            } else {//없으면 
                $("#mean").value = "저장된 단어가 없습니다";
            }
        });

        $("#clearBtn").addEventListener("click", () => {
            localStorage.dic = "{}";
        });
    </script>
</body>

</html>